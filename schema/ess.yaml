$schema: http://json-schema.org/draft-07/schema#
$id: https://github.com/lsst-ts/ts_ess/blob/master/schema/ess.yaml
# title must end with one or more spaces followed by the schema version, which must begin with "v"
title: ESS v1
description: Schema for ESS configuration files
type: object
properties:
  name:
    description: Name of the sensor
    type: string
    default: EssTemperature4Ch
  channels:
    description: Number of channels
    type: integer
    default: 4
  type:
    description: Type of the device
    type: string
    enum:
      - FTDI
      - Serial
    default: FTDI
required:
  - name
  - channels
  - type
allOf:
  - if:
      properties:
        type:
          const: FTDI
    then:
      ftdi_id:
        description: FTDI Serial ID to connect to.
        type: string
        default: "A601FT68"
  - if:
      properties:
        type:
          const: Serial
    then:
      port:
        description: Serial port to connect to.
        type: string
        default: "serial_ch_1"
